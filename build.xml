<?xml version="1.0"?>
<project name="ogolem" default="total" basedir=".">

<property name="dir.src" value="src"/>
<property name="dir.build" value="build"/>
<property name="dir.dest" value="dist"/>
<property name="dir.libs" value="libs"/>

<path id="classpath">
  <pathelement path="${classpath}"/>
  <pathelement location="${dir.libs}/*"/>
  <fileset dir="${dir.libs}">
    <include name="**/*.jar"/>
  </fileset>
  <pathelement location="${dir.build}/*"/>
</path>

<path id="application" location="${dir.dest}/${ant.project.name}.jar"/>


<target name="clean" description="Removing all generated files.">
  <delete dir="${dir.build}"/>
  <delete dir="${dir.dest}"/>
  <delete dir="${reports.tests}"/>
</target>

<target name="prepare" depends="clean">
<mkdir dir="${dir.build}"/>
<mkdir dir="${dir.dest}"/>
<mkdir dir="${dir.src}"/>
</target>

<target name="compile" depends="prepare" description="Compilation of all source code.">
<javac srcdir="${dir.src}"
    includeantruntime="false"
    destdir="${dir.build}"
    debug="true"
    deprecation="true"
    optimize="true"
    source="1.7"
    target="1.7" >
    <classpath refid="classpath" />
</javac>
</target>

<target name="jar" depends="compile" description="Generates ogolem.jar file in to the 'dist' directory.">
<jar jarfile="${dir.dest}/ogolem.jar" basedir="${dir.build}"/>
</target>

<target name="total" depends="jar" description="Copy needed files.">
<copy todir="${dir.dest}/lib">
    <fileset dir="${dir.libs}">
      <include name="**/*.jar"/>
    </fileset>
</copy>
</target>

</project>
